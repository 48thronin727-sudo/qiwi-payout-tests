[README.md](https://github.com/user-attachments/files/22259753/README.md)
# Qiwi Payout API ‚Äî –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ

## üìå –û–ø–∏—Å–∞–Ω–∏–µ
–¶–µ–ª—å –∑–∞–¥–∞–Ω–∏—è ‚Äî –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã Qiwi Payout API –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:  
https://developer.qiwi.com/ru/payout/v1/#about  

‚ö†Ô∏è –í–∞–∂–Ω–æ: —Å–µ—Ä–≤–∏—Å **–Ω–µ—Ä–∞–±–æ—á–∏–π**. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ –±—É–¥—É—Ç –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ—à–∏–±–∫–∏ (`401` –∏–ª–∏ `403`).  
–ó–∞–¥–∞—á–∞ ‚Äî –ø–æ–∫–∞–∑–∞—Ç—å —É–º–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π API –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã.  

---

## üîπ –ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 1. –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞
- **–¶–µ–ª—å**: —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Å–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ—Ç–≤–µ—Ç.  
- **–ú–µ—Ç–æ–¥**: `GET`  
- **URL**: 'https://api-test.qiwi.com/partner/payout/v1/agents/{{agentId}}/points/{{pointId}}/payments' 
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏**:  
  - `Authorization: Bearer {{token}}`  
  - `Accept: application/json`  
- **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**: —Å–µ—Ä–≤–∏—Å –æ—Ç–≤–µ—á–∞–µ—Ç (–∫–æ–¥ < 500), –æ—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON.

---

### 2. –ó–∞–ø—Ä–æ—Å –±–∞–ª–∞–Ω—Å–∞
- **–¶–µ–ª—å**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –±–∞–ª–∞–Ω—Å –≤—Å–µ–≥–¥–∞ –±–æ–ª—å—à–µ 0.  
- **–ú–µ—Ç–æ–¥**: `GET`  
- **URL**: 'https://api-test.qiwi.com/partner/payout/v1/agents/{{agentId}}/points/{{pointId}}/balance'
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏**:  
  - `Authorization: Bearer {{token}}`  
  - `Accept: application/json`  
- **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å**:  
  - –í –æ—Ç–≤–µ—Ç–µ –µ—Å—Ç—å –æ–±—ä–µ–∫—Ç `accounts`.  
  - –£ –ø–µ—Ä–≤–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ `balance.amount > 0`.  

---

### 3. –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞ (1 RUB)
- **–¶–µ–ª—å**: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞.  
- **–ú–µ—Ç–æ–¥**: `POST`  
- **URL**: 'https://api-test.qiwi.com/partner/payout/v1/agents/{{agentId}}/points/{{pointId}}/payments/{{paymentId}}'
- **–ó–∞–≥–æ–ª–æ–≤–∫–∏**:  
  - `Authorization: Bearer {{token}}`  
  - `Content-Type: application/json`  
- **–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞**:
  ```json
  {
    "sum": { "amount": 1, "currency": "RUB" },
    "paymentMethod": { "type": "Account", "accountId": "643" },
    "comment": "Test payment"
  }
 - **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å**:
 -  –ö–æ–¥ –æ—Ç–≤–µ—Ç–∞ 200 –∏–ª–∏ 201.
 -  –í —Ç–µ–ª–µ –æ—Ç–≤–µ—Ç–∞ –µ—Å—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π id –ø–ª–∞—Ç–µ–∂–∞.
 
 ---
 
 ### 4. –ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
 - –¶–µ–ª—å: –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø–ª–∞—Ç—ë–∂ –≤ —Å—Ç–∞—Ç—É—Å ¬´–∏—Å–ø–æ–ª–Ω–µ–Ω¬ª.
 - –ú–µ—Ç–æ–¥: POST
 - URL: {{base_url}}/payments/{{paymentId}}/execute (–≥–¥–µ {{paymentId}} ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ id, –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –≤ —à–∞–≥–µ 3)
 - **–ó–∞–≥–æ–ª–æ–≤–∫–∏**:
 - 'Authorization: Bearer {{api_token}}'
 - 'Content-Type: application/json'
 - –¢–µ–ª–æ: {} (–∏–ª–∏ –ø—É—Å—Ç–æ–µ ‚Äî —Å–º. –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é)
 - **–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å**:
 - –í –æ—Ç–≤–µ—Ç–µ –µ—Å—Ç—å –ø–æ–ª–µ status.
 - –ó–Ω–∞—á–µ–Ω–∏–µ status = SUCCESS (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏).
